
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.0">
    
    
      
        <title>Detailed overview - fastABF</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a3f8f96a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#detailed-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="fastABF" class="md-header__button md-logo" aria-label="fastABF">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fastABF
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Detailed overview
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/GreenlakeMedical/fastABF/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="fastABF" class="md-nav__button md-logo" aria-label="fastABF">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    fastABF
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/GreenlakeMedical/fastABF/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        fastABF
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Detailed overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Detailed overview
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#typical-workflow" class="md-nav__link">
    Typical workflow
  </a>
  
    <nav class="md-nav" aria-label="Typical workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admitted-acute-abf" class="md-nav__link">
    Admitted acute ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#admitted-subacute-abf" class="md-nav__link">
    Admitted subacute ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-abf" class="md-nav__link">
    Emergency  ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-admitted-abf" class="md-nav__link">
    Non admitted ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convenience-functions-and-interfaces" class="md-nav__link">
    Convenience functions and interfaces
  </a>
  
    <nav class="md-nav" aria-label="Convenience functions and interfaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-the-fastabf-library" class="md-nav__link">
    Structure of the fastABF library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types" class="md-nav__link">
    Data types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../globalvariables/" class="md-nav__link">
        Global variables
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributors/" class="md-nav__link">
        Contributors
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#typical-workflow" class="md-nav__link">
    Typical workflow
  </a>
  
    <nav class="md-nav" aria-label="Typical workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admitted-acute-abf" class="md-nav__link">
    Admitted acute ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#admitted-subacute-abf" class="md-nav__link">
    Admitted subacute ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-abf" class="md-nav__link">
    Emergency  ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-admitted-abf" class="md-nav__link">
    Non admitted ABF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convenience-functions-and-interfaces" class="md-nav__link">
    Convenience functions and interfaces
  </a>
  
    <nav class="md-nav" aria-label="Convenience functions and interfaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-the-fastabf-library" class="md-nav__link">
    Structure of the fastABF library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types" class="md-nav__link">
    Data types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/GreenlakeMedical/fastABF/edit/master/docs/detailedintro.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="detailed-overview">Detailed overview</h1>
<p>This page describes the parameters for the cases that are of primary interest to developers who want to start using fastABF.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Readers who wish to <em>contribute</em> and extend this library should read this section as well as the section for library developers &amp; contributors.</p>
</div>
<h2 id="typical-workflow">Typical workflow</h2>
<p>Normally users would like to calculate the <abbr title="Activity based funding">ABF</abbr> prices for episodes. In fastABF this is easily done by gathering various pieces of data required to invoke the corresponding pipeline for each of the <abbr title="Activity based funding">ABF</abbr> cases. In order to know which pieces of data are required and to construct them easily - here is a simple overview of the inputs for each of the four cases</p>
<h3 id="admitted-acute-abf">Admitted acute <abbr title="Activity based funding">ABF</abbr></h3>
<p>Parameters required</p>
<div class="highlight"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Admitted_Acute_Record</span><span class="p">:</span> 
        <span class="n">Birth_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># ddmmyy</span>
        <span class="n">Admission_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># ddmmyy</span>
        <span class="n">Separation_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># ddmmyy</span>
        <span class="n">AR_DRG_v10</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>

        <span class="c1"># [METeOR id: 269976] True if admitted patient transferred from another hospital.</span>
        <span class="n">bool_transfer_status</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">sex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>  <span class="c1"># [METeOR id: 635126]</span>

        <span class="c1"># [METeOR id: 269986] True if admission occurred on an emergency basis</span>
        <span class="n">bool_is_emergency_admission</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">bool_foetal_distress_flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">bool_instrument_use_flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">bool_ppop_flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">bool_prima_flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC1</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC2</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC3</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC4</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC6</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC7</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC8</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC9</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC10</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC11</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC12</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC13</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC14</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">HAC15p2</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">Charlson_Score</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">patient_leave_days</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">ICU_hours_L3</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">ICU_hours_other</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">Psych_Days</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># METeOR id: 552375</span>
        <span class="n">Pat_Postcode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>  <span class="c1"># Format PCNNNN, METeOR id: 429894</span>
        <span class="n">Pat_SA2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># NNNNNNNNN (9 digit), METeOR id: 469909</span>
        <span class="c1"># Establishment&#39;s Remoteness Category</span>
        <span class="n">EST_Remoteness_Cat</span><span class="p">:</span> <span class="n">Remoteness_Category_RA16</span> <span class="o">=</span> <span class="n">Remoteness_Category_RA16</span><span class="o">.</span><span class="n">Unknown</span><span class="p">,</span>
        <span class="n">Indigenous_Status</span><span class="p">:</span> <span class="n">Indigenous_Status_Category</span> <span class="o">=</span> \
            <span class="n">Indigenous_Status_Category</span><span class="o">.</span><span class="n">Unknown_or_not_stated</span><span class="p">,</span>

        <span class="n">Pat_Radiotherapy_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="c1">#  Set to True if the patient has any of the ACHI 11th Edition codes</span>
        <span class="c1">#  listed in Appendices B and C of the `national efficient</span>
        <span class="c1">#  price determination 2020-21` document for radiotherapy relevant codes</span>
        <span class="c1">#  else False</span>
        <span class="n">Pat_Dialysis_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="c1">#  Set to True if the patient has any of the ACHI 11th Edition codes</span>
        <span class="c1">#  listed in Appendices B and C of the `national efficient</span>
        <span class="c1">#  price determination 2020-21` document for dialysis relevant codes</span>
        <span class="c1">#  else False</span>

        <span class="c1"># Set to True if the patient is an eligible private patient</span>
        <span class="n">Pat_private_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>

        <span class="n">Pat_Covid19_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>

        <span class="n">care_type</span><span class="p">:</span> <span class="n">Care_Type</span> <span class="o">=</span> <span class="n">Care_Type</span><span class="o">.</span><span class="n">acute_care_admitted_care</span>
</code></pre></div>
<h3 id="admitted-subacute-abf">Admitted subacute <abbr title="Activity based funding">ABF</abbr></h3>
<p>Parameters required
<div class="highlight"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Admitted_Subacute_Record</span><span class="p">:</span>
        <span class="n">Birth_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="c1"># mmddyy</span>
        <span class="n">Admission_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">Separation_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">AN_SNAP_v4</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>

        <span class="c1"># [METeOR id: 269976] True if admitted patient transferred from another hospital.</span>
        <span class="c1"># bool_transfer_status: bool,</span>
        <span class="c1"># sex: int,  # [METeOR id: 635126]</span>

        <span class="c1"># [METeOR id: 269986] True if admission occurred on an emergency basis</span>
        <span class="n">patient_leave_days</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">Pat_Postcode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>  <span class="c1"># Format PCNNNN, METeOR id: 429894</span>
        <span class="n">Pat_SA2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># NNNNNNNNN (9 digit), METeOR id: 469909</span>
        <span class="c1"># Establishment&#39;s Remoteness Category</span>
        <span class="n">EST_Remoteness_Cat</span><span class="p">:</span> <span class="n">Remoteness_Category_RA16</span> <span class="o">=</span> <span class="n">Remoteness_Category_RA16</span><span class="o">.</span><span class="n">Unknown</span><span class="p">,</span>
        <span class="n">Indigenous_Status</span><span class="p">:</span> <span class="n">Indigenous_Status_Category</span> <span class="o">=</span> \
            <span class="n">Indigenous_Status_Category</span><span class="o">.</span><span class="n">Unknown_or_not_stated</span><span class="p">,</span>

        <span class="n">Pat_Radiotherapy_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="c1">#  Set to True if the patient has any of the ACHI 11th Edition codes</span>
        <span class="c1">#  listed in Appendices B and C of the `national efficient</span>
        <span class="c1">#  price determination 2020-21` document for radiotherapy relevant codes</span>
        <span class="c1">#  else False</span>
        <span class="n">Pat_Dialysis_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="c1">#  Set to True if the patient has any of the ACHI 11th Edition codes</span>
        <span class="c1">#  listed in Appendices B and C of the `national efficient</span>
        <span class="c1">#  price determination 2020-21` document for dialysis relevant codes</span>
        <span class="c1">#  else False</span>

        <span class="c1"># Set to True if the patient is an eligible private patient</span>
        <span class="n">Pat_private_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>

        <span class="n">Pat_Covid19_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">care_type</span><span class="p">:</span> <span class="n">Care_Type</span> <span class="o">=</span> <span class="n">Care_Type</span><span class="o">.</span><span class="n">acute_care_admitted_care</span>
</code></pre></div></p>
<h3 id="emergency-abf">Emergency  <abbr title="Activity based funding">ABF</abbr></h3>
<p>Parameters required
<div class="highlight"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Emergency_Record</span><span class="p">:</span>
        <span class="n">Birth_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">Admission_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">URG_1p4_or_UDG_v1p3</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">Emergency_Care_Level</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">Pat_Postcode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>  <span class="c1"># Format PCNNNN, METeOR id: 429894</span>
        <span class="n">Pat_SA2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># NNNNNNNNN (9 digit), METeOR id: 469909</span>
        <span class="c1"># Establishment&#39;s Remoteness Category</span>
        <span class="n">EST_Remoteness_Cat</span><span class="p">:</span> <span class="n">Remoteness_Category_RA16</span> <span class="o">=</span> <span class="n">Remoteness_Category_RA16</span><span class="o">.</span><span class="n">Unknown</span><span class="p">,</span>
        <span class="n">Indigenous_Status</span><span class="p">:</span> <span class="n">Indigenous_Status_Category</span> <span class="o">=</span> \
            <span class="n">Indigenous_Status_Category</span><span class="o">.</span><span class="n">Unknown_or_not_stated</span><span class="p">,</span>

        <span class="n">Pat_Covid19_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">care_type</span><span class="p">:</span> <span class="n">Care_Type</span> <span class="o">=</span> <span class="n">Care_Type</span><span class="o">.</span><span class="n">acute_care_admitted_care</span>
</code></pre></div></p>
<h3 id="non-admitted-abf">Non admitted <abbr title="Activity based funding">ABF</abbr></h3>
<p>Parameters required
<div class="highlight"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Nonadmitted_Record</span><span class="p">:</span>
        <span class="n">Birth_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">Event_Service_Date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">Tier2_CV5</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">patient_leave_days</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">Pat_Postcode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>  <span class="c1"># Format PCNNNN, METeOR id: 429894</span>
        <span class="n">Pat_SA2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># NNNNNNNNN (9 digit), METeOR id: 469909</span>
        <span class="c1"># Establishment&#39;s Remoteness Category</span>
        <span class="n">EST_Remoteness_Cat</span><span class="p">:</span> <span class="n">Remoteness_Category_RA16</span> <span class="o">=</span> <span class="n">Remoteness_Category_RA16</span><span class="o">.</span><span class="n">Unknown</span><span class="p">,</span>
        <span class="n">Indigenous_Status</span><span class="p">:</span> <span class="n">Indigenous_Status_Category</span> <span class="o">=</span> \
            <span class="n">Indigenous_Status_Category</span><span class="o">.</span><span class="n">Unknown_or_not_stated</span><span class="p">,</span>
        <span class="n">Multiple_Healthcare_Provider_Indicator</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>

        <span class="c1"># Set to True if the patient is an eligible private patient</span>
        <span class="c1"># Pat_private_Flag: bool = False,</span>

        <span class="n">Pat_Covid19_Flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">care_type</span><span class="p">:</span> <span class="n">Care_Type</span> <span class="o">=</span> <span class="n">Care_Type</span><span class="o">.</span><span class="n">acute_care_admitted_care</span>
</code></pre></div>
The four <abbr title="Activity based funding">ABF</abbr> cases above are located under the pipeline submodule as indicated below</p>
<div class="highlight"><pre><span></span><code>fastabf
    └── pipelines (the most important module- contains the main pipelines)
        ├── nwau_admitted_acute.py 
        ├── nwau_admitted_sub_and_non_acute.py
        ├── nwau_emergency.py
        └── nwau_nonadmitted.py
</code></pre></div>
<h3 id="convenience-functions-and-interfaces">Convenience functions and interfaces</h3>
<p>As you may observe from the input parameters in the cases above, they use 
specific classes/data types that were created for convenience. These convenience functions help reduce the need to remember the <abbr title="Metadata online registry">METeOR</abbr> parameter values thereby reducing errors and speeding up code development. 
These user friendly classes and routines can be found at the following locations in the library. </p>
<h4 id="structure-of-the-fastabf-library">Structure of the fastABF library</h4>
<p><div class="highlight"><pre><span></span><code>.
├── datatypes.py (user friendly interfaces to data types used - more info below)
├── Helpers 
    └── charlson_class.py (computes the charlson complexity, if it is not known)
    └── helper_remoteness_mappings.py (computes remoteness categories)
</code></pre></div>
The Charlson class helps compute the Charlson complexity in case it is not known apriori. 
Similarly the remoteness mappings help automatically use the right order of priorities to assign a remoteness category to an episode. </p>
<h4 id="data-types">Data types</h4>
<p>The <code>datatypes</code> module contains user friendly mappings to several of the <abbr title="Metadata online registry">METeOR</abbr> classes. Instead of having to remember formally designated numbers, you can use these convenient interfaces in your own code.  For the details of the possible values for each category, please refer to the specific section on data types.
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Sex_Category</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">MDC_Type</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">ABF_Service_Category</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">Remoteness_Category_RA16</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">Hosp_State_Category</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">Care_Type_General</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>  <span class="c1"># METeOR id: 270174</span>
<span class="k">class</span> <span class="nc">Care_Type</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>  <span class="c1"># As the original METeOR id: 270174 has</span>
<span class="k">class</span> <span class="nc">Indigenous_Status_Category</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="k">class</span> <span class="nc">StayCategory</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</code></pre></div></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              fastABF
            </div>
          </div>
        </a>
      
      
        <a href="../globalvariables/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Global variables
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 - 2021 GreenlakeMedical
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="mailto:<contact@greenlakemedical.ai>" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.217ffd95.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.926459b3.min.js"></script>
      
    
  </body>
</html>